# Парсер книг с сайта tululu.org

Парсер скачивает книги (**.txt** файлы) выбранного жанра с сайта [tululu.org](https://tululu.org/).

По умолчанию, выбранным жанром является "Научная фантастика" (параметр **SCI_FI_ID=55** в настойках)

Дополнительно скачиваются комментарии и картинка к книге. В финале генерируется **.json** файл, где собрана вся информация о скаченных книгах.

### Как установить

Python3 должен быть уже установлен.
Затем используйте `pip` (или `pip3`, если есть конфликт с Python2) для установки зависимостей:

```bash
pip install -r requirements.txt
```

### Параметры

Перед запуском можно изменить параметры в файле настроек config.py, которые позволяют настроить различные параметры скачивания:
* `SKIP_IMGS` — не скачивать обложки книг
* `SKIP_TXT` — не скачивать тексты книг
* `JSON_PATH` — путь до папки, в которой создастся **.json** файл с результатами (по умолчанию в текущей папке)
* `HEADER_SEPARATOR` — разделитель заголовка
* `PAGES_LIMIT` — предел пагинации страниц (по умолчанию 702)
* `SCI_FI_ID` — id жанра научная фантастика

### Аргументы

При запуске скрипта можно указать аргументы в командной строке, которые позволяют настроить различные параметры скачивания:

* `--start_page` — страница категории с которой начинать скачивание книг. По умолчанию `1`
* `--end_page` — страница категории (включительно) до которой скачивать книги. Если аргумент не указан, то скачаются все книги до конца категории
* `--destination` — путь к папке с результатами парсинга: картинками, текстам книг (по умолчанию `./result` - папка result в текущей папке)

### Примеры запуска

Скачиваем книги с первой страницы жанра *Научная фантастика* (https://tululu.org/l55/):
```bash
python3 parse_tululu_category.py --start_page 1 --end_page 2
```

Скачиваем книги со страниц 700, 701 жанра *Научная фантастика* (https://tululu.org/l55/):
```bash
python3 parse_tululu_category.py --start_page 700
```

### Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).
